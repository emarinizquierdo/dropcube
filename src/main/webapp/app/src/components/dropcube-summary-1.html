<dom-module id="dropcube-summary-1">

    <template>


        <style is="custom-style">
            :host {
                margin-top: 50px;
                display: block;
            }

            dropcube-container {}

            p {}

            .summary-title {
                text-align: center;
            }

            .cube-icon {
                width: 100%;
                height: auto;
            }

            .weather-icon {
                width: 37px;
                height: auto;
            }

            .rainbow-footer{
              margin-bottom: 40px;
            }

            .weather{
              border-radius: 4px;
              transition: background-color 1s ease;
            }

            .rain[selected] {
                background-color: rgba(111,181,236, 0.2);
            }

            .snow[selected] {
                background-color: rgba(234,232,180, 0.2);
            }

            .wind[selected] {
                background-color: rgba(255,152,0, 0.2);
            }

            .hot[selected] {
                background-color: rgba(255,107,107, 0.2);
            }
        </style>

        <dropcube-container big="true" class="layout-row layout-align-center-center">

            <div class="layout-row layout-align-center-center summary-title">
                <h3 class="flow-h flex header light">{{dictionary.SUMMARY1.TITLES.MAIN}}</h3>
            </div>
            <div class="functions layout-row layout-xs-column layout-sm-column layout-margin layout-align-center-center layout-align-space-around">
                <div class="flex-xs-100 flex-sm-100 flex-30">
                    <div class="layout-column">
                        <div class="weather rain" selected$="{{_isRain(selected)}}">
                            <div class="layout-row layout-margin">
                                <div class="flex-start">
                                    <iron-icon class="weather-icon" icon="dropcube-icons:rain"></iron-icon>
                                </div>
                                <div class="flex">
                                    <h5>{{dictionary.SUMMARY1.TITLES.RAIN}}</h5>
                                    <p class="md-body-2">{{dictionary.SUMMARY1.DESCRIPTIONS.RAIN}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="weather snow" selected$="{{_isSnow(selected)}}">
                            <div class="layout-row layout-margin">
                                <div class="flex-start">
                                    <iron-icon class="weather-icon" icon="dropcube-icons:snow"></iron-icon>
                                </div>
                                <div class="flex">
                                    <h5>{{dictionary.SUMMARY1.TITLES.SNOW}}</h5>
                                    <p class="md-body-2">{{dictionary.SUMMARY1.DESCRIPTIONS.SNOW}}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="flex-5">
                </div>
                <div class="flex-30">
                    <iron-icon id="cubeColor" class="cube-icon" icon="dropcube-icons:cube-color"></iron-icon>
                </div>
                <div class="flex-5">
                </div>
                <div class="flex-xs-100 flex-sm-100 flex-30">
                    <div class="weather wind" selected$="{{_isWind(selected)}}">
                        <div class="layout-row layout-margin">
                            <div class="flex-start">
                                <iron-icon class="weather-icon" icon="dropcube-icons:wind"></iron-icon>
                            </div>
                            <div class="flex">
                                <h5>{{dictionary.SUMMARY1.TITLES.WIND}}</h5>
                                <p class="md-body-2">{{dictionary.SUMMARY1.DESCRIPTIONS.WIND}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="weather hot" selected$="{{_isHot(selected)}}">
                        <div class="layout-row layout-margin">
                            <div class="flex-start">
                                <iron-icon class="weather-icon" icon="dropcube-icons:hot"></iron-icon>
                            </div>
                            <div class="flex">
                                <h5>{{dictionary.SUMMARY1.TITLES.HOT}}</h5>
                                <p class="md-body-2">{{dictionary.SUMMARY1.DESCRIPTIONS.HOT}}</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="rainbow-footer flex-xs-100 flex-sm-100 flex-100 layout-margin">
                <div on-click="_snow">
                    <div class="layout-column layout-margin layout-align-center-center">
                        <div class="layout-row layout-margin layout-align-center-center">
                            <div>
                                <iron-icon class="weather-icon" icon="dropcube-icons:rainbow"></iron-icon>
                            </div>
                            <h5>{{dictionary.SUMMARY1.TITLES.RAINBOW}}</h5>
                        </div>
                        <p class="md-body-2">{{dictionary.SUMMARY1.DESCRIPTIONS.RAINBOW}}</p>
                    </div>
                </div>
            </div>
        </dropcube-container>

    </template>


    <script>
        Polymer({
            is: "dropcube-summary-1",
            properties: {
                dictionary: {
                    type: Object
                },
                _colors: {
                    type: Object,
                    value: {
                        'rain': '#6fb5ec',
                        'snow': '#eae8b4',
                        'wind': '#ff9800',
                        'hot': '#ff6b6b'
                    }
                }
            },
            _rain: function() {

                this._changeColor(this._colors.rain);
                this.selected = "RAIN";
                setTimeout(this._snow.bind(this), 3000);

            },
            _snow: function() {

                this._changeColor(this._colors.snow);
                this.selected = "SNOW";
                setTimeout(this._wind.bind(this), 3000);

            },
            _wind: function() {

                this._changeColor(this._colors.wind);
                this.selected = "WIND";
                setTimeout(this._hot.bind(this), 3000);

            },
            _hot: function() {

                this._changeColor(this._colors.hot);
                this.selected = "HOT";
                setTimeout(this._rain.bind(this), 3000);

            },
            _isRain : function(selected){
              return selected == "RAIN";
            },
            _isSnow : function(selected){
              return selected == "SNOW";
            },
            _isWind : function(selected){
              return selected == "WIND";
            },
            _isHot : function(selected){
              return selected == "HOT";
            },
            _changeColor: function(color) {

                var light = this.$.cubeColor.$$('#light');

                light.style.fill = color;

            },
            rainbow: function() {


            },
            attached : function(){

              setTimeout(function(){
                this._rain();
              }.bind(this), 1000);


            }

        });
    </script>

</dom-module>
